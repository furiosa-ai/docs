<!DOCTYPE html>
<html class="writer-html5" lang="ko" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Release Notes - v0.5.0 &mdash; FuriosaAI NPU 및 Software 문서 furiosa-docs 문서</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/tabs.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/translations.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="색인" href="../genindex.html" />
    <link rel="search" title="검색" href="../search.html" />
    <link rel="next" title="버그 신고" href="../customer-support/bugs.html" />
    <link rel="prev" title="레퍼런스 문서" href="../software/references.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> FuriosaAI NPU 및 Software 문서
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">FuriosaAI NPU</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../npu/intro.html">FuriosaAI NPU</a></li>
<li class="toctree-l1"><a class="reference internal" href="../npu/intro.html#furiosaai-warboy">FuriosaAI Warboy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../npu/supported_operators.html">NPU 가속 지원 연산자 목록</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">FuriosaAI 소프트웨어</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../software/intro.html">FuriosaAI 소프트웨어 스택 소개</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/installation.html">드라이버, 펌웨어, 런타임 설치 가이드</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/python-sdk.html">Python SDK 설치 및 사용 가이드</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/c-sdk.html">C SDK 설치 및 사용 가이드</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/cli.html">명령행 도구</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/compiler.html">컴파일러</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/quantization.html">모델 양자화</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/kubernetes_support.html">Kubernetes 지원</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/serving.html">모델 서버 (서빙 프레임워크)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/tutorials.html">튜토리얼 및 코드 예제</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/references.html">레퍼런스 문서</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">SDK 릴리즈 노트</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Release Notes - v0.5.0</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#compilerimprovement">컴파일러 개선</a></li>
<li class="toctree-l2"><a class="reference internal" href="#session-api">Session API 개선</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id2">에러 진단 메시지 및 에러 핸들링 개선</a></li>
<li class="toctree-l2"><a class="reference internal" href="#furiosa-server">Furiosa Server (서빙 프레임워크) 패키지 도입</a></li>
<li class="toctree-l2"><a class="reference internal" href="#furiosa-model">Furiosa Model 패키지 도입</a></li>
<li class="toctree-l2"><a class="reference internal" href="#npu-furiosactl">명령형 NPU 관리 도구: furiosactl 도입</a></li>
<li class="toctree-l2"><a class="reference internal" href="#kubernetes">Kubernetes 지원</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">고객 지원</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://furiosa-ai.atlassian.net/servicedesk/customer/portals/">FuriosaAI 고객지원 센터</a></li>
<li class="toctree-l1"><a class="reference internal" href="../customer-support/bugs.html">버그 신고</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">기존 버전 문서</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://furiosa-ai.github.io/docs/v0.2.0/ko/#">0.2.0 문서</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">FuriosaAI NPU 및 Software 문서</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Release Notes - v0.5.0</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/releases/v0.5.0.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="release-notes-v0-5-0">
<h1>Release Notes - v0.5.0<a class="headerlink" href="#release-notes-v0-5-0" title="이 표제에 대한 퍼머링크"></a></h1>
<p>FuriosaAI SDK 0.5.0 릴리즈에는 약 87개의 버그픽스, 기능 추가, 개선을 포함하고 있다.
그 중 중요한 변경사항은 다음과 같다.</p>
<div class="section" id="compilerimprovement">
<span id="id1"></span><h2>컴파일러 개선<a class="headerlink" href="#compilerimprovement" title="이 표제에 대한 퍼머링크"></a></h2>
<p>0.5.0 릴리즈에서 부터 다음 연산자에 대한 NPU 가속 지원을 추가한다. 가속이 지원되는 연산자 목록 전체는
<a class="reference internal" href="../npu/supported_operators.html#supportedoperators"><span class="std std-ref">NPU 가속 지원 연산자 목록</span></a> 에서 찾아볼 수 있다.</p>
<ul class="simple">
<li><p>BatchNormalization</p></li>
<li><p>ConvTranspose</p></li>
<li><p>LeakyRelu</p></li>
<li><p>Pow</p></li>
<li><p>Sqrt</p></li>
<li><p>Sub</p></li>
</ul>
<p>또한 0.5.0 릴리즈 부터 컴파일러는 Onnx의 <a class="reference external" href="https://github.com/onnx/onnx/releases/tag/v1.8.0">Opset 13</a>
연산자까지 지원하도록 개선되었다.</p>
</div>
<div class="section" id="session-api">
<h2>Session API 개선<a class="headerlink" href="#session-api" title="이 표제에 대한 퍼머링크"></a></h2>
<p>첫번째 API 개선 (<a class="reference external" href="https://github.com/furiosa-ai/furiosa-sdk/commit/b1d2b742f9f1ed43dbe7aa5f2ed822ae38d636e4">commit b1d2b74</a>) 은
Session API에서 NPU 장치를 지정할 수 있다.
기존에는 <code class="docutils literal notranslate"><span class="pre">NPU_DEVNAME</span></code> 이라는 환경변수를 통해서만 사용할 장치를 지정 할 수 있었지만 0.5.0 부터는
Session을 생성할 때 NPU 장치를 지정할 수 있다.
명시적으로 지정하지 않으면 기존과 같이 <code class="docutils literal notranslate"><span class="pre">NPU_DEVNAME</span></code> 환경변수에 지정한 장치를 사용한다.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span>from furiosa.runtime import session

sess1 = session.create(“model1.onnx”, device=”npu0pe0”)
sess2 = session.create(“model2.onnx”, device=”npu0pe1”)

# Asynchronous API
async_sess, queue = session.create_async(“model2.onnx”, device=”npu1pe2”)
</pre></div>
</div>
<p>두번째 API 개선 (<a class="reference external" href="https://github.com/furiosa-ai/furiosa-sdk-private/commit/4f1f1149d137a58ada31df57de6e1234881ccf5b">commit 4f1f114</a>)
은 텐서 이름 (tensor name) 지원이다. 기존 API는 모델에 내장된 텐서 순서를 파악하여 <cite>session.run()</cite> 에
입력 파라메터로 전달하는 방법만 했다. 0.5.0 부터는 아래 처럼 명시적으로 입력, 출력 텐서를 위해 이름을 지정할 수 있다.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span>np1 = np.random.randint(0, 255, session_input.shape, dtype=np.uint8)
np2 = np.random.randint(0, 255, session_input.shape, dtype=np.uint8)
sess1.run_with(outputs=[“output1”], inputs={
  “input2”: np2,
  “input1”: np1,
}
</pre></div>
</div>
</div>
<div class="section" id="id2">
<h2>에러 진단 메시지 및 에러 핸들링 개선<a class="headerlink" href="#id2" title="이 표제에 대한 퍼머링크"></a></h2>
<p>에러가 발생하면 디버깅을 위한 버전 정보와 컴파일러 로그가 독립적으로 출력 되어 간편한
버그 신고를 가능하게 한다. <a class="reference internal" href="../customer-support/bugs.html#bugreport"><span class="std std-ref">버그 신고</span></a> 에서 문제 보고와 고객 지원의 더 많은 정보를 찾을 수 있다.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">furiosa.runtime</span> <span class="kn">import</span> <span class="n">session</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">session</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="s2">&quot;mnist-8.onnx)</span>
<span class="go">Saving the compilation log into /home/furiosa/.local/state/furiosa/logs/compile-20211121223028-l5w4g6.log</span>
<span class="gp">...</span>
<span class="go">2021-11-22T06:30:28.423371Z ERROR fail to compile the model: the static shape of tensor &#39;input&#39; contains an unsupported dimension value: Some(DimParam(&quot;batch_size&quot;))</span>
<span class="go">================================================================================</span>
<span class="go">Information Dump</span>
<span class="go">================================================================================</span>
<span class="go">- Python version: 3.8.10 (default, Sep 28 2021, 16:10:42)  [GCC 9.3.0]</span>
<span class="go">- furiosa-libnux path: libnux.so.0.5.0</span>
<span class="go">- furiosa-libnux version: 0.5.0 (rev: 407c0c51f built at 2021-11-18 22:32:34)</span>
<span class="go">- furiosa-compiler version: 0.5.0 (rev: 407c0c51f built at 2021-11-18 22:32:34)</span>
<span class="go">- furiosa-sdk-runtime version: Furiosa SDK Runtime  (libnux 0.5.0 407c0c51f 2021-11-18 22:32:34)</span>

<span class="go">Please check the compiler log at /home/furiosa/.local/state/furiosa/logs/compile-20211121223028-l5w4g6.log.</span>
<span class="go">If you have a problem, please report the log file to https://furiosa-ai.atlassian.net/servicedesk/customer/portals with the information dumped above.</span>
<span class="go">================================================================================</span>
</pre></div>
</div>
<p>이 외에도 아래 문제에 대한 에러 핸들링 문제등이 개선이 포함되어 있다.</p>
<ul class="simple">
<li><p>Device 중복 사용에 대한 에러 개선 (<a class="reference external" href="https://github.com/furiosa-ai/furiosa-sdk/commit/01aaa40fd31573dc578fa1c805e1ed36decc9088">commit 01aaa40</a>)</p></li>
<li><p>CompletionQueue의 timeout 추가 및 Session 연결 종료 에러 핸들링 개선(<a class="reference external" href="https://github.com/furiosa-ai/furiosa-sdk/commit/21cba85737840546357f2dd709d33d9bc2b00390">commit 21cba85</a>)</p></li>
<li><p>컴파일 중 인터럽트에 대한 hanging 문제 해결 <a class="reference external" href="https://github.com/furiosa-ai/furiosa-sdk/commit/a0f4bd7ab8d199e3e46f9820fe4dc75bfa845e61">(commit a0f4bd7</a>)</p></li>
</ul>
</div>
<div class="section" id="furiosa-server">
<h2>Furiosa Server (서빙 프레임워크) 패키지 도입<a class="headerlink" href="#furiosa-server" title="이 표제에 대한 퍼머링크"></a></h2>
<p>0.5.0 부터 GRPC와 REST API를 지원하는 서빙 프레임워크인 <cite>Furiosa Server</cite> 가 추가되었다.
<code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">furiosa-sdk[server]</span></code> 를 실행해 간단히 설치 할 수 있으며 아래 커맨드과 같이
모델 경로와 함께 실행하면 모델을 NPU를 이용해 바로 서빙할 수 있다.
더 자세한 사용법과 기능은 <a class="reference internal" href="../software/serving.html#modelserving"><span class="std std-ref">모델 서버 (서빙 프레임워크)</span></a> 에서 찾을 수 있다.</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>furiosa server <span class="se">\</span>
--model-path MNISTnet_uint8_quant_without_softmax.tflite <span class="se">\</span>
--model-name mnist
</pre></div>
</div>
</div>
<div class="section" id="furiosa-model">
<h2>Furiosa Model 패키지 도입<a class="headerlink" href="#furiosa-model" title="이 표제에 대한 퍼머링크"></a></h2>
<p>0.5.0 부터 FuriosaAI NPU에 최적화된 모델을 Python 패키지로 바로 사용할 수 있다.
설치는 <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">furiosa-sdk[models]</span></code> 명령으로 간단히 할 수 있으며
설치 후에는 예제와 같이 바로 Session API에서 사용 가능하다.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">asyncio</span>

<span class="kn">from</span> <span class="nn">furiosa.registry</span> <span class="kn">import</span> <span class="n">Model</span>
<span class="kn">from</span> <span class="nn">furiosa.models.vision</span> <span class="kn">import</span> <span class="n">MLCommonsResNet50</span>
<span class="kn">from</span> <span class="nn">furiosa.runtime</span> <span class="kn">import</span> <span class="n">session</span>

<span class="n">resnet50</span><span class="p">:</span> <span class="n">Model</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">MLCommonsResNet50</span><span class="p">())</span>
<span class="n">sess</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">resnet50</span><span class="o">.</span><span class="n">model</span><span class="p">,</span> <span class="n">device</span><span class="o">=</span><span class="s1">&#39;npu0pe0&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="npu-furiosactl">
<h2>명령형 NPU 관리 도구: furiosactl 도입<a class="headerlink" href="#npu-furiosactl" title="이 표제에 대한 퍼머링크"></a></h2>
<p>0.5.0 부터 명령형 NPU 관리 도구인 furiosactl 이 포함된다.
설치는 <code class="docutils literal notranslate"><span class="pre">apt</span> <span class="pre">install</span> <span class="pre">furiosa-toolkit</span></code> 로 할 수 있으면 NPU 장치의 상태를 확인하거나 유휴 NPU를 확인할 수 있다.
<code class="docutils literal notranslate"><span class="pre">apt</span></code> 서버 설정 방법은 <a class="reference internal" href="../software/installation.html#setupaptrepository"><span class="std std-ref">APT 서버 설정</span></a> 에서 찾을 수 있다.</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$ furiosactl info

+------+------------------+-------+---------+--------------+---------+
<span class="p">|</span> NPU  <span class="p">|</span> Name             <span class="p">|</span> Temp. <span class="p">|</span> Power   <span class="p">|</span> PCI-BDF      <span class="p">|</span> PCI-DEV <span class="p">|</span>
+------+------------------+-------+---------+--------------+---------+
<span class="p">|</span> npu0 <span class="p">|</span> FuriosaAI Warboy <span class="p">|</span>  <span class="m">34</span>°C <span class="p">|</span> <span class="m">12</span>.92 W <span class="p">|</span> <span class="m">0000</span>:01:00.0 <span class="p">|</span> <span class="m">510</span>:0   <span class="p">|</span>
+------+------------------+-------+---------+--------------+---------+

$ furiosactl list
+------+-----------+-----------+--------+
<span class="p">|</span> NPU  <span class="p">|</span> DEVNAME   <span class="p">|</span> Type      <span class="p">|</span> Status <span class="p">|</span>
+------+-----------+-----------+--------+
<span class="p">|</span> npu0 <span class="p">|</span> npu0      <span class="p">|</span> All PE<span class="o">(</span>s<span class="o">)</span> <span class="p">|</span> Ready  <span class="p">|</span>
<span class="p">|</span>      <span class="p">|</span> npu0pe0   <span class="p">|</span> Single PE <span class="p">|</span> Ready  <span class="p">|</span>
<span class="p">|</span>      <span class="p">|</span> npu0pe1   <span class="p">|</span> Single PE <span class="p">|</span> Ready  <span class="p">|</span>
<span class="p">|</span>      <span class="p">|</span> npu0pe0-1 <span class="p">|</span> PE Fusion <span class="p">|</span> Ready  <span class="p">|</span>
+------+-----------+-----------+--------+
</pre></div>
</div>
</div>
<div class="section" id="kubernetes">
<h2>Kubernetes 지원<a class="headerlink" href="#kubernetes" title="이 표제에 대한 퍼머링크"></a></h2>
<p>0.5.0 부터 NPU의 Kubernetes 지원이 포함된다.
아래 커맨드로 간단히 NPU 장치 플러그인과 노드 레이블러를 설치하고 Pod을 배포할 때 NPU가 함께 스케쥴 되도록 할 수 있다.
자세한 설명은 <a class="reference internal" href="../software/kubernetes_support.html#kubernetesintegration"><span class="std std-ref">Kubernetes 지원</span></a> 에서 찾을 수 있다.</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>kubectl apply -f https://raw.githubusercontent.com/furiosa-ai/furiosa-sdk/main/kubernetes/deployments/device-plugin.yaml
kubectl apply -f https://raw.githubusercontent.com/furiosa-ai/furiosa-sdk/main/kubernetes/deployments/node-labeller.yaml
</pre></div>
</div>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../software/references.html" class="btn btn-neutral float-left" title="레퍼런스 문서" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../customer-support/bugs.html" class="btn btn-neutral float-right" title="버그 신고" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; 저작권 2021, FuriosaAI Inc..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>